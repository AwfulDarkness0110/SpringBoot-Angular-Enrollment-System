<ng-container *appVar="{isSmallScreen: 'ltMd' | matchMedia | async} as media">
	<ng-container *appVar="{pageSection: pageSection$ | async,
	registeredSectionIds: registeredSectionIds$ | async} as data">
		<div>
			<mat-icon color="primary">circle</mat-icon>
			: Open
		</div>
		<div>
			<mat-icon color="accent">change_history</mat-icon>
			: WaitList
		</div>
		<div>
			<mat-icon color="warn">square</mat-icon>
			: Closed
		</div>
		<br>
		<app-paginator
			[length]="data.pageSection.totalElements"
			[pageSize]="pageSize"
			[pageSizeOptions]="pageSizeOptions"
			[showFirstLastButtons]="true"
			(page)="onPageEvent($event)">
		</app-paginator>

		<ng-container *ngIf="true | isLoading | async; else empty">
			<app-loading></app-loading>
		</ng-container>

		<ng-template #empty>
			<div class="empty" *ngIf="data.pageSection.content.length === 0">
				<span>Wow, such empty</span>
			</div>
		</ng-template>

		<ng-container *ngIf="data.pageSection.content.length > 0">
			<div *ngIf="!media.isSmallScreen">
				<app-result-accordion
									  [courses]="data.pageSection.content"
									  [registeredSectionIds]="data.registeredSectionIds"
									  (courseInfoEvent)="openCourseInfo($event)"
									  (addToCartEvent)="addToCart($event)">
				</app-result-accordion>
			</div>
			<div *ngIf="media.isSmallScreen">
				<app-result-card [courses]="data.pageSection.content"
								 [registeredSectionIds]="data.registeredSectionIds"
								 (courseInfoEvent)="openCourseInfo($event)"
								 (addToCartEvent)="addToCart($event)">
				</app-result-card>
			</div>

			<app-paginator
				[length]="data.pageSection.totalElements"
				[pageSize]="pageSize"
				[pageSizeOptions]="pageSizeOptions"
				[showFirstLastButtons]="true"
				(page)="onPageEvent($event)">
			</app-paginator>
		</ng-container>
	</ng-container>
</ng-container>
